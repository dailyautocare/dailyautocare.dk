<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="logo_hv.ico">
    <title>Daily Autocare · Galleri</title>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Fælles CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- Sidespecifik CSS -->
    <style>
        main {
            flex: 1;
        }

        .portfolio-section {
            max-width: 1100px;
            margin: 24px auto 40px;
            padding: 0 20px 40px;
        }

        .portfolio-header {
            margin-bottom: 24px;
        }

        .portfolio-kicker {
            font-size: 12px;
            letter-spacing: 0.14em;
            text-transform: uppercase;
            color: #9ca3af;
            margin-bottom: 8px;
        }

        .portfolio-header h1 {
            font-size: clamp(26px, 3.4vw, 32px);
            margin-bottom: 8px;
        }

        .portfolio-header p {
            font-size: 14px;
            color: #cbd5f5;
            max-width: 600px;
            line-height: 1.5;
        }

        .portfolio-filter {
            margin-top: 16px;
            margin-bottom: 12px;
            font-size: 12px;
            color: #9ca3af;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-tag {
            padding: 4px 10px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.7);
            background: rgba(15, 23, 42, 0.2);
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 20px;
            margin-top: 10px;
        }

        .portfolio-item {
            background: radial-gradient(circle at top left, rgba(241, 245, 249, 1), rgba(226, 232, 240, 1));
            border-radius: 22px;
            padding: 12px 12px 14px;
            box-shadow: var(--shadow-soft);
            border: 1px solid rgba(148, 163, 184, 0.7);
            color: var(--text-main);
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .portfolio-item-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            gap: 8px;
        }

        .portfolio-item-title {
            font-size: 14px;
            font-weight: 600;
        }

        .portfolio-item-meta {
            font-size: 11px;
            color: var(--text-muted);
            text-align: right;
        }

        .portfolio-images {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 6px;
        }

        .portfolio-image-wrapper {
            position: relative;
            border-radius: 14px;
            overflow: hidden;
            background: #020617;
            aspect-ratio: 4 / 3;
            border: 1px solid rgba(15, 23, 42, 0.5);
            cursor: zoom-in; /* Vis at billedet kan klikkes */
        }

        .portfolio-image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        .portfolio-image-wrapper:hover img {
            transform: scale(1.05);
            filter: brightness(1.05);
        }

        .portfolio-label {
            position: absolute;
            left: 8px;
            bottom: 8px;
            padding: 4px 8px;
            border-radius: 999px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            background: rgba(15, 23, 42, 0.7);
            color: #e5e7eb;
            backdrop-filter: blur(4px);
        }

        .portfolio-item-description {
            font-size: 12px;
            color: var(--text-muted);
            margin-top: 4px;
        }

        .portfolio-item-tags {
            margin-top: 4px;
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            font-size: 11px;
        }

        .portfolio-tag {
            padding: 3px 8px;
            border-radius: 999px;
            border: 1px solid rgba(148, 163, 184, 0.7);
            background: rgba(15, 23, 42, 0.02);
        }

        /* Lightbox / klik-til-stort billede */
        .lightbox {
            position: fixed;
            inset: 0;
            background: rgba(15, 23, 42, 0.85);
            display: none; /* skjult som udgangspunkt */
            align-items: center;
            justify-content: center;
            z-index: 999;
            padding: 20px;
        }

        .lightbox--open {
            display: flex;
        }

        .lightbox-inner {
            position: relative;
            max-width: min(1000px, 100%);
            max-height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .lightbox-img {
            max-width: 100%;
            max-height: calc(100vh - 80px);
            border-radius: 16px;
            box-shadow: 0 24px 60px rgba(0, 0, 0, 0.8);
            object-fit: contain;
            display: block;
        }

        .lightbox-close {
            position: absolute;
            top: -12px;
            right: -12px;
            width: 32px;
            height: 32px;
            border-radius: 999px;
            border: none;
            background: rgba(15, 23, 42, 0.9);
            color: #e5e7eb;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
        }

        .lightbox-close:hover {
            background: rgba(30, 64, 175, 0.9);
        }

        /* Pile til navigation */
        .lightbox-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 999px;
            border: none;
            background: rgba(15, 23, 42, 0.9);
            color: #e5e7eb;
            font-size: 22px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.7);
        }

        .lightbox-arrow:hover {
            background: rgba(30, 64, 175, 0.9);
        }

        .lightbox-prev {
            left: -55px;
        }

        .lightbox-next {
            right: -55px;
        }

        @media (max-width: 650px) {
            .lightbox-prev {
                left: 10px;
            }

            .lightbox-next {
                right: 10px;
            }
        }

        @media (max-width: 1000px) {
            .portfolio-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        @media (max-width: 650px) {
            .portfolio-grid {
                grid-template-columns: minmax(0, 1fr);
            }

            .portfolio-item {
                padding: 10px 10px 12px;
                border-radius: 18px;
            }
        }
    </style>

    <script src="layout.js" defer></script>
</head>
<body>
<div class="page">

    <div id="site-header"></div>

    <main>
        <section class="portfolio-section">
            <div class="portfolio-header">
                <div class="portfolio-kicker">Portefølje</div>
                <h1>Før- og efterbilleder fra Daily Autocare.</h1>
                <p>
                    Her kan du se et udvalg af opgaver udført for kunder – fra hverdagsbiler til mere krævende klargøringer. 
                    Billederne giver et konkret indtryk af niveauet på både interiør og eksteriør.
                </p>
            </div>

            <div class="portfolio-filter">
                <span>Eksempler på:</span>
                <span class="filter-tag">Interiør</span>
                <span class="filter-tag">Eksteriør</span>
                <span class="filter-tag">Komplet klargøring</span>
                <span class="filter-tag">Før salg</span>
            </div>

            <div class="portfolio-grid">
                <!-- ITEM 1 -->
                <article class="portfolio-item">
                    <div class="portfolio-item-header">
                        <div class="portfolio-item-title">Interiør – Firmabil</div>
                        <div class="portfolio-item-meta">Glostrup · Interiør pakke</div>
                    </div>

                    <div class="portfolio-images">
                        <figure class="portfolio-image-wrapper">
                            <img src="galleri1før.webp" alt="Før klargøring – interiør i firmabil">
                            <figcaption class="portfolio-label">Før</figcaption>
                        </figure>
                        <figure class="portfolio-image-wrapper">
                            <img src="galleri1efter.webp" alt="Efter klargøring – interiør i firmabil">
                            <figcaption class="portfolio-label">Efter</figcaption>
                        </figure>
                    </div>

                    <p class="portfolio-item-description">
                        Denne firmabil skulle gå fra en ansat til en anden. Den fik en rengøring indvendigt, så den blev klar til sin nye ejer.
                    </p>
                    <div class="portfolio-item-tags">
                        <span class="portfolio-tag">Interiør</span>
                        <span class="portfolio-tag">Firmabil</span>
                    </div>
                </article>

                <!-- Flere items kan kopieres herunder -->
            </div>
        </section>
    </main>

    <div id="site-footer"></div>
</div>

<!-- Lightbox markup -->
<div class="lightbox" id="lightbox">
    <div class="lightbox-inner">
        <button class="lightbox-close" type="button" aria-label="Luk billede">&times;</button>
        <button class="lightbox-arrow lightbox-prev" type="button" aria-label="Forrige billede">&#10094;</button>
        <img src="" alt="" class="lightbox-img">
        <button class="lightbox-arrow lightbox-next" type="button" aria-label="Næste billede">&#10095;</button>
    </div>
</div>

<!-- Lightbox script -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = lightbox.querySelector(".lightbox-img");
    const closeBtn = lightbox.querySelector(".lightbox-close");
    const prevBtn = lightbox.querySelector(".lightbox-prev");
    const nextBtn = lightbox.querySelector(".lightbox-next");

    let currentGroup = [];
    let currentIndex = 0;

    function showImage(index) {
        if (!currentGroup.length) return;

        // Wrap rundt hvis man går forbi første/sidste
        if (index < 0) {
            index = currentGroup.length - 1;
        } else if (index >= currentGroup.length) {
            index = 0;
        }

        currentIndex = index;
        const img = currentGroup[currentIndex];
        lightboxImg.src = img.src;
        lightboxImg.alt = img.alt || "";
    }

    function openLightbox(groupImages, clickedImg) {
        currentGroup = groupImages;
        currentIndex = groupImages.indexOf(clickedImg);
        showImage(currentIndex);

        lightbox.classList.add("lightbox--open");
        document.body.style.overflow = "hidden"; // lås scroll bagved
    }

    function closeLightbox() {
        lightbox.classList.remove("lightbox--open");
        document.body.style.overflow = "";
        lightboxImg.src = "";
        lightboxImg.alt = "";
        currentGroup = [];
        currentIndex = 0;
    }

    // Klik på billeder i porteføljen
    document.querySelectorAll(".portfolio-image-wrapper img").forEach((img) => {
        img.addEventListener("click", () => {
            const container = img.closest(".portfolio-images");
            const groupImages = Array.from(container.querySelectorAll("img"));
            openLightbox(groupImages, img);
        });
    });

    // Pile-knapper
    prevBtn.addEventListener("click", () => {
        showImage(currentIndex - 1);
    });

    nextBtn.addEventListener("click", () => {
        showImage(currentIndex + 1);
    });

    // Luk på kryds
    closeBtn.addEventListener("click", closeLightbox);

    // Luk ved klik på overlay (men ikke når man klikker på selve billedet/inner)
    lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) {
            closeLightbox();
        }
    });

    // Tastatur: Esc lukker, venstre/højre bladrer
    document.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("lightbox--open")) return;

        if (e.key === "Escape") {
            closeLightbox();
        } else if (e.key === "ArrowLeft") {
            showImage(currentIndex - 1);
        } else if (e.key === "ArrowRight") {
            showImage(currentIndex + 1);
        }
    });
});
</script>

</body>
</html>
